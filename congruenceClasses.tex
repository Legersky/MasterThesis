%\subsection{Number of congruence classes}

\begin{defn}
Let $M\in\ZZ^{d\times d}$ be a nonsingular integer matrix. Vectors $x,y \in \ZZ^d$ are \emph{congruent modulo $M$ in $\ZZ^d$} if $x-y \in M\ZZ^d$.
\end{defn}
\komentar{rozepsat ze to je ekvivalence, priklad?}
\begin{lem}
Let $M\in\ZZ^{d\times d}$ be a nonsingular integer matrix. The number of congruence classes modulo $M$ in $\ZZ^d$ is $|\det M|$.
\label{lem:numCongruenceClasses}
\end{lem}
\begin{proof}
Set $y_i:=M e_i$ for $i\in\{0, \dots, d-1 \}$ and 
$$
B_{\enum{\alpha}}:=\left\{\sum_{i=0}^{d-1} (\alpha_i + t_i) y_i \colon t_i \in [0,1)\right\}
$$
for $\enum{\alpha} \in \ZZ^d$. Obviously,
$$
\RR^d=\bigcup_{\enum{\alpha} \in \ZZ^d} B_{\enum{\alpha}}\,.
$$
For fixed $\enum{\alpha} \in \ZZ^d$, the number of points of $\ZZ^d$ in $B_{\enum{\alpha}}$  is the volume of $B_{\enum{\alpha}}$  which is $|\det M|$. Hence, it is enough to prove that there is exactly one representative of each congruence class in $B_{\enum{\alpha}}$. 

To show that there are representatives of all classes, assume an arbitrary vector $x\in\ZZ^d$. Since $\enum{y}$ is a basis of $\RR^d$, there are scalars $s_0, \dots, s_{d-1}\in \RR$ such that $x= \sum_{i=0}^{d-1} s_i y_i$. Set $\gamma_i:=\lfloor s_i \rfloor$ and $t_i:=s_i-\gamma_i$. Now
\begin{align*}
 x=\sum_{i=0}^{d-1} (\gamma_i+t_i) y_i=\sum_{i=0}^{d-1}t_i y_i +\sum_{i=0}^{d-1} (\gamma_i-\alpha_i)y_i + \sum_{i=0}^{d-1} \alpha_i y_i=\underbrace{\sum_{i=0}^{d-1} (\alpha_i+t_i)y_i}_{\in B_{\enum{\alpha}} } +M\underbrace{(\gamma-\alpha)}_{\in\ZZ^d}\,,
\end{align*}
where $\alpha=\enum{\alpha}^T \quad \text{ and }\quad \gamma=\enum{\gamma}^T$. Hence, there is an integer vector $\sum_{i=0}^{d-1} (\alpha_i+t_i)y_i$ in $B_{\enum{\alpha}}$ which is congruent to $x$ modulo $M$.

Let $x'=\sum_{i=0}^{d-1} s'_i y_i \in \ZZ^d$ and $x''=\sum_{i=0}^{d-1}s''_i y_i \in \ZZ^d$ be distinct elements of $B_{\enum{\alpha}}$ which are congruent modulo $M$, i.e., there exists $z=\enum{z}^T\in\ZZ^d$ such that $x'=x''+M z$. There is $i_0\in\{0, \dots , d-1\}$ such that $|z_{i_0}|\geq 1$ as $x'\neq x''$. Thus, $|s'_{i_0}-s''_{i_0}|=|z_{i_0}|\geq 1$ which contradicts that  $x', x''\in B_{\enum{\alpha}}$.
\end{proof}

\begin{thm}
Let $\omega$ be an algebraic integer of degree $d$ and  $\beta=\sum_{i=0}^d b_i \omega^i$, where $b_i\in\ZZ$, be such that $\deg \omega = \deg\beta$. The number of congruence classes modulo $\beta$ in $\Zomega$ is $|m_\beta(0)|$.
\label{thm:numbCongruenceClasses}
\end{thm}
\begin{proof}
Let $x, y\in\Zomega$ and let $S$ be the companion matrix of the minimal polynomial $m_\omega$. Set $S_\beta=\multMat{b}$. Then
\begin{align*}
x\equiv y \mod \beta &\iff \exists z \in \Zomega \colon x-y= \beta z \\
&\iff \exists z \in \Zomega \colon \pi(x-y)= S_\beta \pi(z) \\
&\iff \pi(x) \equiv \pi(y) \mod S_\beta\,.
\end{align*}
Thus, the number of congruence classes modulo $\beta$ is $|\det S_\beta|$ by Lemma~\ref{lem:numCongruenceClasses}. The statement follows from Lemma~\ref{lem:propertiesSbeta}. 
\end{proof}